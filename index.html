import React, { useMemo, useState } from "react";
import { ArrowRight, Briefcase, Building2, CheckCircle2, Compass, Crown, Diamond, Mail, Menu, Sparkles, Star, Users, X } from "lucide-react";

// --- Sample data (replace with live data later) ---
const companies = [
  { name: "Arowwai Industries", hires: 7 },
  { name: "Masdar Tech", hires: 3 },
  { name: "Nūr Health", hires: 5 },
  { name: "Atlas Pay", hires: 2 },
  { name: "Cedrus Logistics", hires: 4 },
];

const jobs = [
  { title: "Junior Frontend Developer", company: "Masdar Tech", location: "Amman", tags: ["React", "Tailwind"], posted: "2d" },
  { title: "Marketing Coordinator", company: "Atlas Pay", location: "Remote", tags: ["Content", "Social"], posted: "3d" },
  { title: "Data Analyst Intern", company: "Arowwai Industries", location: "Irbid", tags: ["SQL", "PowerBI"], posted: "1w" },
];

const posts = [
  { title: "CV Glow‑Up: 7 fixes that get callbacks", tag: "CV", read: "4 min" },
  { title: "Interview Mindset: 3 rehearsal drills", tag: "Interview", read: "5 min" },
  { title: "Is entrepreneurship for you? A 10‑point check", tag: "Founder", read: "6 min" },
];

const courses = [
  { title: "Excel to Analyst", provider: "Coursera", duration: "2–4 w" },
  { title: "Social Media Sprint", provider: "Udemy", duration: "1–2 w" },
  { title: "Intro to Cloud", provider: "Edraak", duration: "Self‑paced" },
];

// --- UI Helpers ---
const Section = ({ id, title, subtitle, children }: any) => (
  <section id={id} className="mx-auto max-w-6xl px-4 py-16">
    <header className="mb-8">
      <h2 className="text-2xl md:text-3xl font-semibold text-white/90">{title}</h2>
      {subtitle && <p className="text-white/60 mt-2 max-w-2xl">{subtitle}</p>}
    </header>
    {children}
  </section>
);

const Badge = ({ children }: any) => (
  <span className="inline-flex items-center rounded-full bg-teal-500/10 text-teal-300 px-3 py-1 text-xs font-medium border border-teal-400/30">{children}</span>
);

// --- Pricing Cards (from your blueprint) ---
const PricingCard = ({ tier, price, features, highlight, cta, icon: Icon, foot }: any) => (
  <div className={`rounded-2xl p-6 border shadow-sm backdrop-blur bg-slate-900/60 border-white/10 ${highlight ? "ring-2 ring-teal-400" : ""}`}>
    <div className="flex items-center gap-2">
      <Icon className={`h-5 w-5 ${highlight ? "text-teal-300" : "text-white/60"}`} />
      <h3 className="text-xl font-semibold text-white/90">{tier}</h3>
    </div>
    <div className="mt-4">
      <span className="text-3xl font-bold text-white">{price}</span>
      <span className="text-white/60"> / month</span>
    </div>
    <ul className="mt-6 space-y-2">
      {features.map((f: string, i: number) => (
        <li key={i} className="flex items-start gap-2 text-white/80">
          <CheckCircle2 className="h-5 w-5 mt-0.5 text-teal-300" />
          <span>{f}</span>
        </li>
      ))}
    </ul>
    <button className={`mt-6 w-full inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 font-medium ${highlight ? "bg-teal-500 text-slate-900" : "bg-white/10 text-white hover:bg-white/20"}`}>
      {cta} <ArrowRight className="h-4 w-4" />
    </button>
    {foot && <p className="text-xs text-white/50 mt-3">{foot}</p>}
  </div>
);

export default function App() {
  const [mobileOpen, setMobileOpen] = useState(false);
  const [seatsLeft, setSeatsLeft] = useState(300);
  const foundingBanner = useMemo(() => (
    <div className="bg-gradient-to-r from-teal-600/30 to-cyan-500/20 border-b border-white/10 text-white">
      <div className="mx-auto max-w-6xl px-4 py-2 flex flex-col md:flex-row items-center justify-between gap-2">
        <p className="text-sm md:text-base">Founding Cohort: **Trailblazer** at <span className="font-semibold">12 JOD</span> for 3 months · <span className="font-semibold">{seatsLeft}</span> seats left</p>
        <div className="w-full md:w-64 h-2 rounded bg-white/10 overflow-hidden">
          <div className="h-full bg-teal-400" style={{ width: `${Math.max(0, (300 - seatsLeft) / 3)}%` }} />
        </div>
      </div>
    </div>
  ), [seatsLeft]);

  return (
    <main className="min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 text-white">
      {/* Top Banner */}
      {foundingBanner}

      {/* Nav */}
      <nav className="sticky top-0 z-40 backdrop-blur bg-slate-900/70 border-b border-white/10">
        <div className="mx-auto max-w-6xl px-4 h-16 flex items-center justify-between">
          <div className="flex items-center gap-2">
            <Sparkles className="h-5 w-5 text-teal-300" />
            <a href="#home" className="font-semibold">Forsapath</a>
          </div>
          <div className="hidden md:flex items-center gap-6 text-white/80 text-sm">
            <a href="#jobs">Jobs</a>
            <a href="#advice">Advice</a>
            <a href="#courses">Courses</a>
            <a href="#pricing">Pricing</a>
            <a href="#newsletter">Newsletter</a>
            <a href="#companies">Companies</a>
            <a href="#signin" className="px-3 py-1 rounded-lg bg-white/10 hover:bg-white/20">Sign in</a>
            <a href="#employers" className="px-3 py-1 rounded-lg bg-teal-500 text-slate-900 font-medium">Employers</a>
          </div>
          <button className="md:hidden" onClick={() => setMobileOpen((v) => !v)}>{mobileOpen ? <X /> : <Menu />}</button>
        </div>
        {mobileOpen && (
          <div className="md:hidden px-4 pb-4 grid gap-2 text-white/80 text-sm">
            {[
              ["Jobs", "#jobs"], ["Advice", "#advice"], ["Courses", "#courses"], ["Pricing", "#pricing"], ["Newsletter", "#newsletter"], ["Companies", "#companies"],
            ].map(([label, href]) => (
              <a key={label as string} href={href as string} onClick={() => setMobileOpen(false)} className="rounded-lg px-3 py-2 bg-white/5">{label}</a>
            ))}
            <div className="flex gap-2">
              <a href="#signin" className="flex-1 px-3 py-2 rounded-lg bg-white/10">Sign in</a>
              <a href="#employers" className="flex-1 px-3 py-2 rounded-lg bg-teal-500 text-slate-900 font-medium">Employers</a>
            </div>
          </div>
        )}
      </nav>

      {/* Hero */}
      <section id="home" className="mx-auto max-w-6xl px-4 py-20 grid md:grid-cols-2 gap-10 items-center">
        <div>
          <Badge>From confusion to career</Badge>
          <h1 className="mt-4 text-4xl md:text-5xl font-semibold leading-tight">Your path to opportunity — jobs, skills, or your own venture.</h1>
          <p className="mt-4 text-white/70 max-w-xl">We combine career DNA mapping, real job matching, and practical coaching. Apply smarter, grow faster, and build work you actually want.</p>
          <div className="mt-6 flex flex-wrap gap-3">
            <a href="#pricing" className="inline-flex items-center gap-2 rounded-xl bg-teal-500 text-slate-900 px-4 py-2 font-medium">Get Started <ArrowRight className="h-4 w-4"/></a>
            <a href="#jobs" className="inline-flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2">Browse Jobs <Briefcase className="h-4 w-4"/></a>
          </div>
          <ul className="mt-6 grid grid-cols-2 gap-3 text-white/70 text-sm">
            <li className="flex items-center gap-2"><CheckCircle2 className="h-4 w-4 text-teal-300"/> Career DNA assessment</li>
            <li className="flex items-center gap-2"><CheckCircle2 className="h-4 w-4 text-teal-300"/> Priority shortlisting</li>
            <li className="flex items-center gap-2"><CheckCircle2 className="h-4 w-4 text-teal-300"/> Entrepreneur track</li>
            <li className="flex items-center gap-2"><CheckCircle2 className="h-4 w-4 text-teal-300"/> Coaching & rehearsal</li>
          </ul>
        </div>
        <div className="rounded-3xl bg-gradient-to-br from-slate-800 to-slate-700 p-6 border border-white/10 shadow-xl">
          <div className="flex items-center gap-2 mb-4 text-white/80"><Building2 className="h-5 w-5"/><span>Partner Companies</span></div>
          <div className="grid grid-cols-2 sm:grid-cols-3 gap-3">
            {companies.map((c) => (
              <div key={c.name} className="rounded-xl bg-slate-900/60 border border-white/10 p-4">
                <p className="font-medium text-white/90">{c.name}</p>
                <p className="text-xs text-white/50 mt-1">Hires via Forsapath: <span className="font-semibold text-teal-300">{c.hires}</span></p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Jobs */}
      <Section id="jobs" title="Jobs" subtitle="Curated roles from verified partners. Apply with shelens or upgrade for more.">
        <div className="grid md:grid-cols-3 gap-4">
          {jobs.map((j, i) => (
            <div key={i} className="rounded-2xl p-5 bg-slate-900/60 border border-white/10">
              <h3 className="font-semibold text-white/90">{j.title}</h3>
              <p className="text-white/60 mt-1">{j.company} • {j.location} • {j.posted}</p>
              <div className="mt-3 flex flex-wrap gap-2">
                {j.tags.map((t) => <span key={t} className="text-xs px-2 py-1 rounded bg-white/10">{t}</span>)}
              </div>
              <button className="mt-4 inline-flex items-center gap-2 rounded-xl bg-teal-500 text-slate-900 px-3 py-2 text-sm font-medium">Apply now <ArrowRight className="h-4 w-4"/></button>
            </div>
          ))}
        </div>
      </Section>

      {/* Advice */}
      <Section id="advice" title="Advice" subtitle="Practical, no‑BS guidance. CVs, interviews, mindset, and founder basics.">
        <div className="grid md:grid-cols-3 gap-4">
          {posts.map((p) => (
            <article key={p.title} className="rounded-2xl p-5 bg-slate-900/60 border border-white/10">
              <Badge>{p.tag}</Badge>
              <h3 className="mt-3 font-semibold text-white/90">{p.title}</h3>
              <p className="text-white/50 text-sm mt-2">{p.read} read</p>
              <a className="mt-4 inline-flex items-center gap-2 text-teal-300" href="#"><ArrowRight className="h-4 w-4"/> Read</a>
            </article>
          ))}
        </div>
      </Section>

      {/* Courses */}
      <Section id="courses" title="Courses" subtitle="Right‑sized learning. Only what moves you closer to a hire or launch.">
        <div className="grid md:grid-cols-3 gap-4">
          {courses.map((c) => (
            <div key={c.title} className="rounded-2xl p-5 bg-slate-900/60 border border-white/10">
              <h3 className="font-semibold text-white/90">{c.title}</h3>
              <p className="text-white/60 mt-1">{c.provider} • {c.duration}</p>
              <a className="mt-4 inline-flex items-center gap-2 text-teal-300" href="#">Explore <ArrowRight className="h-4 w-4"/></a>
            </div>
          ))}
        </div>
      </Section>

      {/* Pricing */}
      <Section id="pricing" title="Pricing" subtitle="Pick your level. You can switch anytime.">
        <div className="grid md:grid-cols-3 gap-5">
          <PricingCard
            tier="Pathfinder"
            price="0 JOD"
            icon={Compass}
            cta="Start Free"
            features={[
              "3 applications / month",
              "CV Scan (basic)",
              "Career Fit Mini‑Quiz",
              "Job alerts & saves",
              "Advice Hub access",
            ]}
          />
          <PricingCard
            tier="Navigator"
            price="12 JOD"
            icon={Crown}
            cta="Become a Navigator"
            features={[
              "12 applications / month",
              "Career DNA – Basic",
              "1 manual CV review / quarter",
              "Priority visibility (Tier‑2)",
              "Group coaching (1/mo)",
              "Course perks (10%)",
            ]}
          />
          <PricingCard
            tier="Trailblazer"
            price={seatsLeft > 0 ? "12 JOD (Founding)" : "29 JOD"}
            icon={Diamond}
            highlight
            cta="Go Trailblazer"
            foot="Founding cohort keeps 12 JOD for 3 months. Then 29 JOD unless downgraded."
            features={[
              "50 applications / month",
              "Career DNA – Pro",
              "Fast‑Track CV (24h)",
              "Priority visibility (Tier‑1) + Verified",
              "1:1 coaching (30 min / mo)",
              "Interview rehearsal ticket",
              "Early access roles",
              "Entrepreneur Sprint (14 days)",
            ]}
          />
        </div>
        <div className="mt-6 text-sm text-white/60 flex items-center gap-2">
          <Star className="h-4 w-4 text-teal-300"/> * Clicking Trailblazer during the founding offer will decrement seats for demo. 
          <button onClick={() => setSeatsLeft((s) => Math.max(0, s - 1))} className="ml-2 px-2 py-1 rounded bg-white/10">simulate seat −1</button>
        </div>
      </Section>

      {/* Newsletter */}
      <Section id="newsletter" title="Newsletter" subtitle="One email a week. Roles, skills, and brutally practical advice.">
        <form className="rounded-2xl p-5 bg-slate-900/60 border border-white/10 max-w-xl">
          <label className="text-sm text-white/70">Email</label>
          <div className="mt-2 flex gap-2">
            <input type="email" className="flex-1 rounded-xl bg-white/10 px-3 py-2 outline-none border border-white/10 focus:border-teal-400" placeholder="you@domain.com" />
            <button className="inline-flex items-center gap-2 rounded-xl bg-teal-500 text-slate-900 px-4 py-2 font-medium"><Mail className="h-4 w-4"/>Subscribe</button>
          </div>
          <p className="text-xs text-white/50 mt-2">No spam. Unsubscribe anytime.</p>
        </form>
      </Section>

      {/* Companies */}
      <Section id="companies" title="Companies" subtitle="Verified partners hiring through Forsapath.">
        <div className="grid md:grid-cols-3 gap-4">
          {companies.map((c) => (
            <div key={c.name} className="rounded-2xl p-5 bg-slate-900/60 border border-white/10 flex items-start gap-3">
              <Users className="h-5 w-5 text-teal-300 mt-1"/>
              <div>
                <div className="font-medium text-white/90">{c.name}</div>
                <div className="text-white/60 text-sm">Hires via Forsapath: <span className="text-teal-300 font-semibold">{c.hires}</span></div>
              </div>
            </div>
          ))}
        </div>
      </Section>

      {/* Footer */}
      <footer className="border-t border-white/10 py-10 text-white/60">
        <div className="mx-auto max-w-6xl px-4 flex flex-col md:flex-row items-center justify-between gap-4">
          <p>© {new Date().getFullYear()} Forsapath. All rights reserved.</p>
          <div className="flex items-center gap-4 text-sm">
            <a href="#">Terms</a>
            <a href="#">Privacy</a>
            <a href="#">Contact</a>
          </div>
        </div>
      </footer>
    </main>
  );
}
